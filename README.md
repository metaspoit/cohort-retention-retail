# Анализ удержания клиентов

## Описание проекта

Проект посвящён исследованию поведения покупателей розничного магазина на основе набора транзакций. Основная цель — провести когортный анализ удержания клиентов и оценить различия между сегментами аудитории. Акцент сделан на интерпретации результатов и формулировке продуктовых гипотез.


## Структура данных

В наборе содержатся следующие признаки:

- `transaction_id` — идентификатор транзакции  
- `order_date` — дата покупки  
- `customer_id` — уникальный клиент  
- `acquisition_channel` — канал привлечения
- `gender` — пол  
- `age` — возраст  
- `product_category` — категория товара  
- `quantity`, `price_per_unit`, `total_amount` — параметры заказа  

Данные охватывают период 2023 года.

Данные изначально были взяты с Kaggle, были добавлены похожие синтетические данные, для лучшей работы.

## Методология

### 1. Формирование когорт  
Когорты формируются по месяцу первой покупки. Для каждого клиента определяется дата первичной транзакции, на основе которой рассчитывается интервал между последующими заказами.

### 2. Расчёт метрик удержания  
Для каждой когорты оценивается доля клиентов, совершивших повторные покупки:

- **D7** — 7 дней  
- **D30** — 30 дней  
- **D90** — 90 дней  

### 3. Визуализация  
Построены:

- тепловая карта удержания по когортам;  
- кривые удержания в разрезе месяцев;  
- сравнение удержания по каналам привлечения, полу, возрастным группам и категориям товаров.

### 4. Сегментация  
Проведено сравнение удержания:

- по каналам привлечения;  
- по полу;  
- по возрастным группам;  
- по категориям товаров.  

## Основные наблюдения

1. Удержание закономерно снижается по мере увеличения времени. Наибольшая доля повторных покупок приходится на первую неделю после первичного заказа.

2. Между когортами заметны различия. Весенние и летние когорты показывают более стабильные показатели D30, в то время как декабрьская когорта характеризуется низким удержанием на долгую, что связано с сезонностью спроса.

3. Organic является наиболее эффективным каналом привлечения: клиенты из этого канала чаще возвращаются как на горизонте D7, так и на D30. Канал social демонстрирует низкие показатели удержания.

4. Клиенты 36–45 лет возвращаются чаще других возрастных групп на D7 и D30. Группа младше 25 лет показывает более высокую склонность к одноразовым покупкам.

5. Различия по полу выражены незначительно и не оказывают существенного влияния на повторное поведение.

## Продуктовые гипотезы

1. Усиление коммуникаций в первые 7–10 дней после первой покупки может повысить вероятность повторного заказа.

2. Для декабрьских когорт потенциально эффективны предложения, мотивирующие покупки в январе (например, купоны или акции).

3. Для возрастной группы до 25 лет можно протестировать более агрессивную политику скидок или специальные предложения, поскольку их удержание ниже среднего.

## Технологии

- Python  
- Pandas, NumPy  
- Seaborn, Matplotlib  
- Jupyter Notebook  
- Когортный анализ, retention, LTV

## Структура проекта

```
cohort-retention-retail/
│
├── data/
│ └── retail_transactions_simulated.csv # синтетический датасет с транзакциями
│
├── notebooks/
│ ├── generate_data.ipynb # генерация данных, имитирующих реальные транзакции
│ ├── preprocessing.ipynb # предобработка, первичный анализ, проверки качества данных
│ ├── cohort_retention.ipynb # когортный анализ, тепловая карта
│ └── segment_analysis.ipynb # анализ удержания в разрезе каналов, возраста, пола, категорий
│
├── visuals/
│ ├── retention_heatmap.png # тепловая карта удержания по когортам
│ ├── retention_curves.png # кривые удержания по дням
│ ├── retention_by_gender.png # удержание по полу
│ ├── retention_by_age_group.png # удержание по возрастным группам
│ └── retention_by_category.png # удержание по категориям товаров
│
└── README.md # описание проекта, методология, выводы
```

